{"version":3,"sources":["components/pages/Page404.jsx","components/Card.jsx","components/RecentPosts.jsx","components/RecentActivity.jsx","components/RecentActivities.jsx","components/pages/Home.jsx","components/pages/Feedback.jsx","components/pages/Terms.jsx","components/pages/License.jsx","components/pages/About.jsx","components/pages/Rules.jsx","components/pages/Parents.jsx","components/pages/Contact.jsx","consts.js","components/pages/Register.jsx","components/editor/media/Picture.jsx","components/editor/Stage.jsx","utils/clamp.js","utils/zeroPad.js","utils/units.js","components/editor/TimelineLayer.jsx","components/editor/Timeline.jsx","components/editor/TimelineControls.jsx","components/editor/Editor.jsx","components/editor/Library.jsx","components/pages/Create.jsx","components/layout/Header/login.jsx","components/layout/Header/loged.jsx","components/layout/Header.jsx","components/layout/Footer.jsx","components/pages/Profile.jsx","components/pages/Watch.jsx","index.jsx","assets/sass/pages/Page404.module.scss","assets/img/fpvid.mp4","assets/img/logo-blur.png"],"names":["Page404","className","styles","Card","props","footer","text","link","to","title","content","children","defaultProps","RecentPosts","src","alt","Component","RecentActivity","data","error","style","color","message","timeAgo","type","post","name","rating","user","comment","e","require","RecentActivities","state","this","map","activity","key","id","Home","video","controls","maxWidth","Feedback","element","createRef","form","email","regex","submit","preventDefault","current","value","match","window","sessionStorage","setItem","location","reload","document","createElement","innerHTML","getElementById","appendChild","success","innerText","onload","getItem","removeItem","onSubmit","htmlFor","cols","rows","minLength","ref","description","onInput","input","placeholder","Terms","fontStyle","href","margin","License","About","glitch","useRef","useEffect","setAttribute","onclick","hasAttribute","removeAttribute","disabled","Rules","Parents","Contact","host","Register","history","useHistory","useState","setName","setEmail","password","setPassword","registering","setRegistering","setError","a","fields","captcha","fetch","method","headers","body","JSON","stringify","resp","json","res","token","localStorage","replace","onChange","target","Picture","url","x","y","onDragStart","onDragEnd","onMouseDown","onMouseUp","useImage","image","console","log","width","height","draggable","Stage","currentTime","animation","addMedia","importEvents","onDragOver","event","onDrop","rect","querySelector","getBoundingClientRect","media","parse","dataTransfer","getData","p","t","v","clientX","clientY","r","s","b","o","f","editEvents","duration","easing","Konva","Easings","EaseOut","shadowColor","shadowBlur","shadowOpacity","layers","layer","fill","opacity","listening","sceneFunc","ctx","shape","beginPath","moveTo","lineTo","closePath","fillStrokeShape","stroke","clamp","num","min","max","zeroPad","len","numAsStr","length","padStart","frameToFraction","count","offsetToFraction","offset","TimelineLayer","frame","start","isSeeking","seekInitialX","seekInitialPosition","seekPosition","end","addEventListener","onSeekStop","bind","removeEventListener","handle","setState","updateHandle","Math","floor","onMouseMove","onSeekStart","transform","left","right","Timeline","seekStartX","seekStartPos","seekerOffset","time","minutes","seconds","millis","frameToDisplayTime","item","index","TimelineControls","isPlaying","startPlaying","stopPlaying","isRecording","startRecording","stopRecording","onClick","icon","faStop","faPlay","faCircle","size","faFastBackward","faStepBackward","faStepForward","faFastForward","faExternalLinkAlt","faVolumeUp","Editor","setCurrentTime","setIsPlaying","setIsRecording","author","setAnimation","isDestroyed","Date","step","now","delta","prevTime","requestAnimationFrame","nanoid","mediaId","Library","activeTab","setActiveTab","mediaList","dataset","find","setData","filter","data-id","mediaType","category","tab","Login","setDisabled","loading","setLoading","usernameField","passwordField","loginInput","login","updateUser","action","Loged","Header","searchDisabled","searchField","searchInput","search","Logo","Footer","showCookies","alert","Profile","member","animations","params","anims","Object","assign","canMessage","isFollowing","Watch","useParams","App","Authorization","makeRequest","settings","exact","path","render","route","component","Create","ReactDOM","module","exports"],"mappings":"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","file":"static/js/main.f4df4d5e.chunk.js","sourcesContent":["import React from \"react\";\r\nimport styles from \"../../assets/sass/pages/Page404.module.scss\";\r\n\r\nexport default function Page404() {\r\n    return (\r\n        <div className={styles.Page404}>\r\n            <h1>404 - Page not found</h1>\r\n            <h3>The page you&apos;re looking for might have been removed, had it&apos;s name changed or is temporarily unavailable.</h3>\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Card(props) {\r\n    let footer = \"\";\r\n    if (props.footer.text && props.footer.link) footer = <h3 className=\"card--footer\"><Link to={props.footer.link}>{props.footer.text}</Link></h3>;\r\n\r\n    return (\r\n        <div className={\"card \" + props.className}>\r\n            <p className=\"card--title\">{props.title}</p>\r\n            <div className={\"card--content box\"}>{props.content || props.children}</div>\r\n            {footer}\r\n        </div>\r\n    );\r\n}\r\n\r\nCard.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    footer: PropTypes.object,\r\n    className: PropTypes.string,\r\n    content: (props, propName, componentName) => {\r\n        if (!props.content && !props.children) {\r\n            return new Error(`One of props \"${propName}\" or \"children\" was not specified in \"${componentName}\".`);\r\n        }\r\n    },\r\n    children: (props, propName, componentName) => {\r\n        if (!props.content && !props.children) {\r\n            return new Error(`One of props \"content\" or \"${propName}\" was not specified in \"${componentName}\".`);\r\n        }\r\n    }\r\n};\r\n\r\nCard.defaultProps = {\r\n    footer: {},\r\n    className: \"\"\r\n};\r\n\r\nexport default Card;\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class RecentPosts extends Component {\r\n    render() {\r\n        return (\r\n            <>\r\n                <img src=\"https://www.adobe.com/images/shared/download_buttons/get_flash_player.gif\" alt=\"Get Flash Player\"/>\r\n            </>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction RecentActivity(props) {\r\n    const data = props.data;\r\n    const error = (<p style={{ color: \"red\" }}>Error!</p>);\r\n    if (!data) {\r\n        return error;\r\n    }\r\n\r\n    let timeAgo = (\r\n        <p> {data.timeAgo + \" ago:\" } </p>\r\n    );\r\n\r\n    var message;\r\n    try {\r\n        switch (data.type) {\r\n            case \"rating\":\r\n                message = (\r\n                    <p><Link to={data.post.link}>{data.post.name}</Link> was rated {data.rating}</p>\r\n                );\r\n                break;\r\n\r\n            case \"profileUpdate\":\r\n                message = (\r\n                    <p><Link to={data.user.link}>{data.user.name}</Link> updated his/her profile</p>\r\n                );\r\n                break;\r\n\r\n            case \"comment\":\r\n                message = (\r\n                    <>\r\n                        <p><Link to={data.user.link}>{data.user.name}</Link> posted a comment on <Link to={data.comment.post.link}>{data.comment.post.name}</Link>:</p>\r\n                        <p className=\"comment\">{data.comment.content}</p>\r\n                    </>\r\n                );\r\n                break;\r\n\r\n            case \"create\":\r\n                message = (\r\n                    <p><Link to={data.user.link}>{data.user.name}</Link> created <Link to={data.post.link}>{data.post.name}</Link></p>\r\n                );\r\n                break;\r\n\r\n            default:\r\n                timeAgo = \"\";\r\n                message = error;\r\n        }\r\n    } catch(e) {\r\n        timeAgo = \"\";\r\n        message = error;\r\n    }\r\n\r\n    return (\r\n        <div className=\"activity\">\r\n            <i></i>\r\n            {timeAgo}\r\n            {message}\r\n        </div>\r\n    );\r\n}\r\n\r\nRecentActivity.propTypes = {\r\n    data: PropTypes.object.isRequired\r\n};\r\n\r\nexport default RecentActivity;\r\n","import React, { Component } from \"react\";\r\n\r\nimport RecentActivity from \"./RecentActivity\";\r\n\r\nconst data = require(\"./data.json\");\r\n\r\nexport default class RecentActivities extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { data };\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"activities\">\r\n                {this.state.data.map(activity => {\r\n                    return (\r\n                        <RecentActivity\r\n                            key={activity.id}\r\n                            data={activity}\r\n                        />\r\n                    );\r\n                })}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Card from \"../Card\";\r\nimport RecentPosts from \"../RecentPosts\";\r\nimport RecentActivities from \"../RecentActivities\";\r\n\r\nimport video from \"../../assets/img/fpvid.mp4\";\r\n\r\nexport default function Home() {\r\n    return (\r\n        <div className=\"container\" id=\"home\">\r\n            <Card\r\n                title=\"Recently Posted\"\r\n                className=\"recent\"\r\n                content={<RecentPosts />}\r\n                footer={{ text: \"see more\", link: \"/watch\" }}\r\n            />\r\n            <div className=\"middle\">\r\n                <div className=\"intro white-box\">\r\n                    <h1>This is a place where you make animations</h1>\r\n                    <p>Make animations! No downloads, all free.</p>\r\n                    <Link to=\"/create\">CLICK HERE TO MAKE ONE NOW!</Link>\r\n                </div>\r\n                <div className=\"video white-box\">\r\n                    <video\r\n                        src={video}\r\n                        controls\r\n                        style={{ maxWidth: \"100%\" }}\r\n                    >\r\n                        Your browser doesn&apos;t support the <code>video</code> tag.\r\n                    </video>\r\n                </div>\r\n                <Card title=\"Make Animations\" className=\"steps\" >\r\n                    <p>OK, so this stuff is really pretty simple:</p>\r\n                    <p>1. Choose a picture (a cat, a sleeping princess, a computer - whatever you want!) and drag it around</p>\r\n                    <p>2. Add some sound effects</p>\r\n                    <p>3. Save it and show it to your friends</p>\r\n                    <p>4. No fourth step :)</p>\r\n                    <p className=\"doit\"><Link to=\"/create\">DO IT!<i></i></Link></p>\r\n                </Card>\r\n            </div>\r\n            <div>\r\n                <Card\r\n                    title=\"Recent Activity\"\r\n                    content={<RecentActivities />}\r\n                />\r\n\r\n                <Card title=\"Readme (English)\" className=\"readme\">\r\n                    <p>Please have a seat, take a deep breath, and then log in to read my message. It&apos;s important.</p>\r\n                    <Link to=\"/member/admin\">Admin</Link>\r\n                </Card>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { Component, createRef } from \"react\";\r\n\r\nexport default class Feedback extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.element = createRef();\r\n        this.form = createRef();\r\n        this.email = createRef();\r\n        this.error = createRef();\r\n        var regex = /^(([^<>()\\\\.,;:\\s@\"]+(\\.[^<>()\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/i;\r\n\r\n        this.submit = e => {\r\n            e.preventDefault();\r\n            if (!this.email.current.value.match(regex)) return;\r\n            try {\r\n                // submit form here\r\n\r\n                window.sessionStorage.setItem(\"success\", true);\r\n                window.location.reload();\r\n            } catch(e) {\r\n                // error handling goes here. Probably shouldn't just log it...\r\n\r\n                const error = document.createElement(\"h2\");\r\n                error.style.color = \"red\";\r\n                error.innerHTML = \"An unknown error occurred... Please try again later or contact the developers on <code>inbox@animasher.com</code>\";\r\n                document.getElementById(\"feedbackpage\").appendChild(error);\r\n            }\r\n        };\r\n\r\n        this.success = () => {\r\n            const text = document.createElement(\"h2\");\r\n            text.style.color = \"lime\";\r\n            text.innerText = \"Feedback form successfully submitted!\";\r\n            document.getElementById(\"feedbackpage\").appendChild(text);\r\n        };\r\n\r\n        window.onload = () => {\r\n            if (window.sessionStorage.getItem(\"success\")) {\r\n                window.sessionStorage.removeItem(\"success\");\r\n                this.success();\r\n            }\r\n        };\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"feedbackpage\">\r\n                <h1 className=\"pink\">Feedback</h1>\r\n                <p>Tell us your thoughts</p>\r\n\r\n                <form className=\"feedback\" onSubmit={this.submit}>\r\n                    <h3>Reasons for writing</h3>\r\n                    <div className=\"reasons\">\r\n                        <input type=\"checkbox\" name=\"bugReport\" id=\"bugReport\" value=\"bugReport\"/>\r\n                        <label htmlFor=\"bugReport\">Wohoo! I&apos;ve found a bug!</label>\r\n                        <br/>\r\n                        <input type=\"checkbox\" name=\"featureRequest\" id=\"featureRequest\" value=\"featureRequest\"/>\r\n                        <label htmlFor=\"featureRequest\">Missing feature! Me want!</label>\r\n                        <br/>\r\n                        <input type=\"checkbox\" name=\"lame\" id=\"lame\" value=\"lame\"/>\r\n                        <label htmlFor=\"lame\">This site is lame!</label>\r\n                        <br/>\r\n                        <input type=\"checkbox\" name=\"rule\" id=\"rule\" value=\"rule\"/>\r\n                        <label htmlFor=\"rule\">This site is awesome!</label><br/>\r\n                        <input type=\"checkbox\" name=\"privacy\" id=\"privacy\" value=\"privacy\"/><label htmlFor=\"privacy\">Privacy complaint</label>\r\n                        <br/>\r\n                        <input type=\"checkbox\" name=\"copyright\" id=\"copyright\" value=\"copyright\"/>\r\n                        <label htmlFor=\"copyright\">Copyright infringement</label>\r\n                        <br/>\r\n                        <input type=\"checkbox\" name=\"other\" id=\"other\" value=\"other\"/>\r\n                        <label htmlFor=\"other\">Other</label><br/>\r\n                    </div>\r\n\r\n                    <h3>A little more detail please</h3>\r\n                    <textarea\r\n                        name=\"description\"\r\n                        id=\"description\"\r\n                        cols=\"30\"\r\n                        rows=\"10\"\r\n                        minLength=\"20\"\r\n                        ref={this.description}\r\n                        onInput={this.input}\r\n                    ></textarea>\r\n\r\n                    <h3>Your email</h3>\r\n                    <input\r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        placeholder=\"Enter your email\"\r\n                        ref={this.email}\r\n                    />\r\n\r\n                    <i></i> {/* To fill out empty field */}\r\n                    <input type=\"submit\" value=\"Send feedback\"/>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Terms() {\r\n    return (\r\n        <div className=\"footer-page-static\">\r\n            <p style={{ fontStyle: \"italic\" }}>\r\n                Animasher is part of the <a href=\"https://creativecommons.org/\">Creative Commons Community</a>.\r\n                Your animations will be licensed to the world under the <a href=\"https://creativecommons.org/licenses/by/4.0/\">Creative Commons Attribution License 4.0</a> (<a href=\"#5\">see section 5 below</a>).<br/>\r\n                Please do not upload any material for which you do not have the right to share under this license. Please do not use this site if you are under the age of 13.\r\n            </p>\r\n\r\n            <h1>TERMS OF USE</h1>\r\n\r\n            <h3 id=\"1\" className=\"pinkheader\">1. Restrictions On Use</h3>\r\n            <p>\r\n                By using or visiting this website (&quot;Animasher&quot;, the &quot;Website&quot; or the &quot;Animasher Website&quot;) you signify your assent to these terms.\r\n                If you do not agree with these terms, please do not use Animasher.<br/>\r\n                You must be over 18 years of age or, if you are over 13 but under 18, you must have parental consent to enter into these Terms of Use.\r\n                If you are under 13, please do not use Animasher.\r\n                <br/>\r\n                Please consult these Terms of Use periodically, so as to stay informed of the most up-to-date version.\r\n                Animasher may, in its sole discretion, modify or revise these Terms of Use and policies as any time, and you agree to be bound by such modifications or revisions.\r\n            </p>\r\n\r\n            <h3 id=\"2\" className=\"pinkheader\">2. General Use of the Website</h3>\r\n            <p style={{ margin: 0 }}>\r\n                Animasher hereby grants you permission to access and use the Website as set forth in these Terms of Use, provided that:<br/>\r\n                You agree not to use the Website for any commercial use without the prior written authorization of Animasher.<br/>\r\n                Prohibited commercial uses do not include:\r\n            </p>\r\n            <ul className=\"list\">\r\n                <li>uploading material of a commercial nature (of which you possess sufficient intellectual property rights) or creating an animation on Animasher to promote your business or artistic enterprise</li>\r\n                <li>using the Animasher Player to show Animasher animations on an ad-enabled blog or website, provided the primary purpose of using the Animasher Player is not to gain advertising revenue</li>\r\n                <li>any use that Animasher explicitly authorizes in writing</li>\r\n            </ul>\r\n            <p>\r\n                If you use the Animasher Player on your website, you must include a prominent link back to the Animasher website on the pages containing the Animasher Player and you may not modify, build upon, or block any portion of the Animasher Player in any way.<br/>\r\n                In your use of the Website, you will otherwise comply with the terms and conditions of these Terms of Use, and all applicable local, national, and international laws and regulations.<br/>\r\n                Animasher reserves the right to discontinue any aspect of the Animasher Website at any time.<br/>\r\n            </p>\r\n\r\n            <h3 id=\"3\" className=\"pinkheader\">3. Proprietary Information</h3>\r\n            <p>\r\n                The material and content accessible on the Animasher website (the &quot;Content&quot;) is the proprietary information of or licensed to Animasher.\r\n                Animasher or the licensor retains all right, title, and interest in the Content.\r\n                Material contributed by users is licensed under the <a href=\"https://creativecommons.org/licenses/by/4.0/\">Creative Commons Attribution License 4.0</a>.\r\n                Accordingly, the Content may not be copied, distributed, republished, uploaded, posted, or transmitted in any way unless under <a href=\"https://creativecommons.org/licenses/by/4.0/\">Creative Commons Attribution License 4.0</a> or with the prior written consent of Animasher.\r\n                Modification or use of the Content except as expressly provided in these Terms of Use violates Animasher&apos;s intellectual property rights.\r\n                Neither title nor intellectual property rights are transferred to you by access to this site.\r\n            </p>\r\n\r\n            <h3 id=\"4\" className=\"pinkheader\">4. Links</h3>\r\n            <p>\r\n                This site may contain links to other sites which are not maintained by, or related to, Animasher.\r\n                Links to such sites are provided as a service to users and are not sponsored by or affiliated with this site or Animasher.\r\n                Animasher has not reviewed any or all of such sites and is not responsible for the content of those sites.\r\n                Links are to be accessed at the user&apos;s own risk, and Animasher makes no representations or warranties about the content, completeness or accuracy of these links or the sites linked to this site.\r\n                Further, the inclusion of any link to a third-party site does not necessarily imply endorsement by Animasher of that site.\r\n            </p>\r\n\r\n            <h3 id=\"5\" className=\"pinkheader\">5. Submissions</h3>\r\n            <p style={{ margin: 0 }}>\r\n                For clarity, you retain all of your ownership rights in your Submissions (content, pictures, graphics, music, sound recordings or videos). However, by submitting Submissions to Animasher, you hereby agree to license all your Submissions to the world under the <a href=\"https://creativecommons.org/licenses/by/4.0/\">Creative Commons Attribution License 4.0</a>.<br />\r\n                You also hereby grant each user of the Animasher Website a non-exclusive license to access your Submissions through the Website, and to use, reproduce, distribute, display and perform such Submissions as permitted through the functionality of the Website and under these Terms of Use.<br />\r\n                By submitting Submissions to Animasher, you represent and warrant to Animasher that you have the necessary rights and authority to upload the Submissions to Animasher and license it to the world under the <a href=\"https://creativecommons.org/licenses/by/4.0/\">Creative Commons Attribution License 4.0</a>.<br />\r\n                In connection with Submissions, you further agree that you will not submit material that:\r\n            </p>\r\n            <ul className=\"list\">\r\n                <li>you do not have the right to post, including proprietary material of any third party</li>\r\n                <li>infringes any intellectual property or other right of any entity or person, including violating anyone&apos;s copyrights or trademarks or their rights of publicity</li>\r\n                <li>advocates illegal activity or discusses an intent to commit an illegal act</li>\r\n                <li>threatens or abuses others, libels, defames, invades privacy, stalks, is obscene, pornographic, racist, abusive, harassing, threatening, offensive vulgar or indecent</li>\r\n                <li>includes programs which contain viruses, worms and/or Trojan horses or any other computer code, files or programs designed to interrupt, destroy or limit the functionality of any computer software or hardware or telecommunications</li>\r\n                <li>disobeys any policy or regulations established from time to time regarding use of this site or any networks connected to this site</li>\r\n            </ul>\r\n            <p>\r\n                Animasher reserves the right to monitor use of this site to determine compliance with these Terms of Use, as well the right to remove or refuse any information for any reason.\r\n                Notwithstanding these rights, you remain solely responsible for the content of your Submissions.\r\n                You acknowledge and agree that neither Animasher nor any third party that provides Content to Animasher will assume or have any liability for any action or inaction by Animasher or such third party with respect to any Submission.\r\n            </p>\r\n\r\n            <h3 id=\"6\" className=\"pinkheader\">6. Disclaimer</h3>\r\n            <p>\r\n                YOUR USE OF THIS SITE IS AT YOUR OWN RISK.\r\n                TO THE FULLEST EXTENT PERMITTED BY THE APPLICABLE LAW, ANIMASHER OFFERS THE WEBSITE AS-IS AND MAKES NO REPRESENTATIONS OR WARRANTIES OF ANY KIND CONCERNING THE WEBSITE, EXPRESS, IMPLIED, STATUTORY OR OTHERWISE, INCLUDING, WITHOUT LIMITATION, WARRANTIES OF TITLE, MERCHANTIBILITY, FITNESS FOR A PARTICULAR PURPOSE, NONINFRINGEMENT.\r\n                ANIMASHER DOES NOT WARRANT THAT THE FUNCTIONS OR CONTENT CONTAINED IN THIS SITE WILL BE UNINTERRUPTED OR ERROR-FREE, THAT DEFECTS WILL BE CORRECTED, OR THAT THE SITE OR THE SERVER ARE FREE OF VIRUSES OR OTHER HARMFUL COMPONENTS.\r\n                ANIMASHER DOES NOT WARRANT OR MAKE ANY REPRESENTATION REGARDING USE OR THE RESULT OF USE OF THE CONTENT IN TERMS OF ACCURACY, RELIABILITY, OR OTHERWISE.\r\n            </p>\r\n\r\n            <h3 id=\"7\" className=\"pinkheader\">7. Limitation On Liability</h3>\r\n            <p>\r\n                IN NO EVENT SHALL ANIMASHER, ITS OFFICERS, DIRECTORS, EMPLOYEES, AGENTS OR AFFILIATES BE LIABLE FOR ANY INCIDENTAL, DIRECT, INDIRECT, PUNITIVE, ACTUAL, CONSEQUENTIAL, SPECIAL, EXEMPLARY, OR OTHER DAMAGES WHATSOEVER RESULTING FROM ANY USE OF THE WEBSITE WHATSOVER INCLUDING DAMAGES FROM\r\n                    (I) ERRORS, MISTAKES, OR INACCURACIES OF CONTENT,\r\n                    (II) PERSONAL INJURY OR PROPERTY DAMAGE OF ANY NATURE WHATSOEVER RESULTING FROM YOUR ACCESS TO AND USE OF OUR WEBSITE,\r\n                    (III) ANY UNAUTHORIZED ACCESS TO OR USE OF OUR SECURE SERVERS AND/OR ANY AND ALL PERSONAL INFORMATION AND/OR FINANCIAL INFORMATION STORED THEREIN,\r\n                    (IV) ANY INTERRUPTION OR CESSATION OF TRANSMISSION TO OR FROM OUR WEBSITE,\r\n                    (V) ANY BUGS, VIRUSES, TROJAN HORSES, OR THE LIKE, WHICH MAY BE TRANSMITTED TO OR THROUGH OUR WEBSITE BY ANY THIRD PARTY, AND/OR\r\n                    (VI) ANY ERRORS OR OMISSIONS IN ANY CONTENT OR FOR ANY LOSS OR DAMAGE OF ANY KIND INCURRED AS A RESULT OF YOUR USE OF ANY CONTENT POSTED, EMAILED, TRANSMITTED, OR OTHERWISE MADE AVAILABLE VIA THE ANIMASHER WEBSITE, WHETHER BASED ON WARRANTY, CONTRACT, TORT, OR ANY OTHER LEGAL THEORY, AND WHETHER OR NOT ANIMASHER IS ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.\r\n                THE FOREGOING LIMITATION OF LIABILITY SHALL APPLY TO THE FULLEST EXTENT PERMITTED BY LAW IN THE APPLICABLE JURISDICTION.<br />\r\n                YOU SPECIFICALLY ACKNOWLEDGE THAT ANIMASHER SHALL NOT BE LIABLE FOR USER SUBMISSIONS OR THE DEFAMATORY, OFFENSIVE, OR ILLEGAL CONDUCT OF ANY THIRD PARTY AND THAT THE RISK OF HARM OR DAMAGE FROM THE FOREGOING RESTS ENTIRELY WITH YOU\r\n            </p>\r\n\r\n            <h3 id=\"8\" className=\"pinkheader\">8. Indemnity</h3>\r\n            <p>\r\n                You will indemnify and hold Animasher, its subsidiaries, affiliates, licensors, content providers, service providers, employees, agents, officers, directors, and contractors (the &quot;Indemnified Parties&quot;) harmless from and against all claims, damages, obligations, losses, liability, costs or debt, and expenses arising from\r\n                (i) your use of and access to the Animasher website, (ii) any breach of these Terms of Use by you, including any use of Content other than as expressly authorized in these Terms of Use, or (iii) your violation of any third party right, including without limitation any copyright, property, or privacy right.\r\n                You agree that the Indemnified Parties will have no liability in connection with any such breach or unauthorized use, and you agree to indemnify any and all resulting loss, damages, judgments, awards, costs, expenses, and attorneys&quot; fees of the Indemnified Parties in connection therewith.&quot;\r\n                You will also indemnify and hold the Indemnified Parties harmless from and against any claims brought by third parties arising out of your use of the information accessed from this site.\r\n            </p>\r\n\r\n            <h3 id=\"9\" className=\"pinkheader\">9. Security</h3>\r\n            <p>\r\n                Animasher reserves the right to fully cooperate with any law enforcement authorities or court order requesting or directing Animasher to disclose the identity of anyone posting any e-mail messages, or publishing or otherwise making available any materials that are believed to violate these Terms of Use.\r\n                BY ACCEPTING THIS AGREEMENT YOU WAIVE AND AGREE TO HOLD HARMLESS ANIMASHER FROM ANY CLAIMS RESULTING FROM ANY ACTION TAKEN BY ANIMASHER DURING OR AS A RESULT OF ITS INVESTIGATIONS AND/OR FROM ANY ACTIONS TAKEN AS A CONSEQUENCE OF INVESTIGATIONS BY EITHER ANIMASHER OR LAW ENFORCEMENT AUTHORITIES.\r\n            </p>\r\n\r\n            <h3 id=\"10\" className=\"pinkheader\">10. Miscellaneous</h3>\r\n            <p>\r\n                These Terms of Use will be governed and interpreted pursuant to the laws of Florida, U.S., notwithstanding any principles of conflicts of law.\r\n                You specifically consent to personal jurisdiction in Florida in connection with any dispute between you and Animasher arising out of these Terms of Use or pertaining to the subject matter hereof.\r\n                The parties to these Terms of Use each agree that the exclusive venue for any dispute between the parties arising out of these Terms of Use or pertaining to the subject matter of these Terms of Use will be in the courts of Miami, Florida.\r\n                If any part of these Terms of Use is unlawful, void or unenforceable, that part will be deemed severable and will not affect the validity and enforceability of any remaining provisions.\r\n                These Terms of Use constitute the entire agreement among the parties relating to this subject matter.\r\n                Notwithstanding the foregoing, any additional terms and conditions on this site will govern the items to which they pertain.\r\n                Animasher may revise these Terms of Use at any time by updating this posting.\r\n            </p>\r\n\r\n            <br />\r\n            <p>Last updated: 2020-07-26</p>\r\n\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function License() {\r\n    return (\r\n        <div>\r\n            <h1>License</h1>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect, useRef } from \"react\";\r\n\r\nexport default function About() {\r\n    const glitch = useRef();\r\n    useEffect(() => {\r\n        glitch.current.setAttribute(\"data-glitch-text\", glitch.current.innerText);\r\n        glitch.current.onclick = () => {\r\n            glitch.current.hasAttribute(\"disabled\") ? glitch.current.removeAttribute(\"disabled\") : glitch.current.setAttribute(\"disabled\", \"true\");\r\n        };\r\n    });\r\n    return (\r\n        <div id=\"about\">\r\n            <h1 className=\"pink\">What was animasher?</h1>\r\n            <p>\r\n                Animasher was an animation website that shut down in 2012.\r\n                It has left such a big impact on the community that Animasher was still being talked about a decade after being shut down.\r\n                It has inspired many artists and creators in the early 2000&apos;s.\r\n                The site was for all ages but the community of Animasher was mostly children aged 12-16.\r\n                The original founder of Animasher wrote:\r\n                <br />\r\n                <em>\r\n                    We sincerely believe that using Animasher is one of the best things children can do online today.\r\n                    Unlike merely watching movies, Animasher is a very active form of entertainment.\r\n                    And unlike playing games, Animasher is a creative activity.\r\n                    Kids use Animasher to tell stories, talk about their interests, create tutorials, and much else.\r\n                    It is challenging, unlimited, and empowering in the same way that a pen and a blank piece of paper is.\r\n                    Many teachers also use Animasher in the classroom.\r\n                    One of them emailed us personally to say that participation and interest in her classes had been at an all time high ever since she introduced Animasher.\r\n                </em>\r\n            </p>\r\n\r\n            <h1 className=\"pink\">What is Animasher.net?</h1>\r\n            <p>\r\n                Animasher.net is a recreation of Animasher with very minimal tweaks. It will look and function exactly as Animasher did.\r\n                We&apos;re a <em>very</em> small team from across Europe. This is our first website.\r\n                Please be nice. <em className=\"glitch\" ref={glitch} disabled>we&apos;re being held against our will, please hel-</em>\r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Rules() {\r\n    return (\r\n        <div className=\"footer-page-static\">\r\n            <h1>How to behave on Animasher</h1>\r\n\r\n            <h3 className=\"pinkheader\">Rules</h3>\r\n            <p style={{ margin: 0 }}>\r\n                Animasher is a site where people have fun making animations.\r\n                To make sure everyone feel safe and happy, it is important that we all follow some simple rules.\r\n                These are:\r\n            </p>\r\n            <ul className=\"list\">\r\n                <li>\r\n                    Be nice to each other. Swearing, bullying, threatening, harrassing, and insulting each other is NOT ok.\r\n                    This goes for both comments, private messages, and animations.\r\n                    If someone does this to you, send a private message to <Link to=\"/member/admin\">admin</Link>.\r\n                </li>\r\n                <li>\r\n                    You should NEVER use someone else&apos;s account without their permission.\r\n                    It doesn&apos;t matter if you asked for their password and they gave it to you.\r\n                    Only use your own account.\r\n                </li>\r\n                <li>Never give your password to anyone.</li>\r\n                <li>\r\n                    Don&apos;t make any animations that you think would be offensive to others.\r\n                    No excessive violence, no pornography.\r\n                </li>\r\n            </ul>\r\n            <p>\r\n                If you don&apos;t follow these rules you may be banned from Animasher.\r\n                That means we lock your account so you can never use it again, and we may even delete all your animations.\r\n                You won&apos;t be allowed to create a new account either.\r\n                If we find out it&apos;s yours we will lock that too.\r\n            </p>\r\n\r\n            <h3 className=\"pinkheader\">Recommendations</h3>\r\n            <p style={{ margin: 0 }}>You don&apos;t <em>have</em> to follow these, but Animasher becomes a better place if you do:</p>\r\n            <ul className=\"list\">\r\n                <li>If you see an animation that you don&apos;t like, just ignore it. Don&apos;t post a message saying it&apos;s bad.</li>\r\n                <li>\r\n                    If someone posts messages to you that you find disturbing, don&apos;t post back.\r\n                    Instead, send a message to <Link to=\"/member/admin\">admin</Link> and he will take care of it.\r\n                </li>\r\n                <li>\r\n                    Welcome new users to Animasher.\r\n                    If you see someone on Animasher that you haven&apos;t seen before, send them a message and just say hi.\r\n                    Maybe ask them if they have any questions about how Animasher works.\r\n                    New users don&apos;t know as much as you do.\r\n                </li>\r\n            </ul>\r\n            <p>That&apos;s all. Have fun!</p>\r\n\r\n            <p><Link to=\"/member/admin\">admin</Link></p>\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Parents() {\r\n    return (\r\n        <div className=\"footer-page-static\">\r\n            <h1>For parents</h1>\r\n\r\n            <h3 className=\"pinkheader\">What is this place?</h3>\r\n            <p>\r\n                Animasher is a site where anyone can make movies in an online studio, using images, sounds, and music from a shared library. Members can comment and rate each other&apos;s animations, and send messages to other Animasher users.\r\n            </p>\r\n\r\n            <h3 className=\"pinkheader\">Is using Animasher good for my child?</h3>\r\n            <p>\r\n                To that we can answer a very heartfelt Yes. We sincerely believe that using Animasher is one of the best things children can do online today. Unlike merely watching movies, Animasher is a very active form of entertainment. And unlike playing games, Animasher is a creative activity. Kids use Animasher to tell stories, talk about their interests, create tutorials, and much else. It is challenging, unlimited, and empowering in the same way that a pen and a blank piece of paper is.<br/>\r\n                Many teachers also use Animasher in the classroom. One of them emailed us personally to say that participation and interest in her classes had been at an all time high ever since she introduced Animasher.\r\n            </p>\r\n\r\n            <h3 className=\"pinkheader\">Who is Animasher for?</h3>\r\n            <p>\r\n                Animasher was originally not aimed at any particular age group. We believed adults would have as much use for it as children and teens. However, over time it became increasingly obvious that Animasher appealed mainly to people between ages 7 and 15. Everyone is still welcome, but every new feature we introduce is made with that age group in mind.\r\n            </p>\r\n\r\n            <h3 className=\"pinkheader\">Is Animasher safe?</h3>\r\n            <p>\r\n                We continually monitor all user communication and remove objectional material from the site. Animasher is still a fairly small community, with users numbering in the thousands rather than millions, so we have a good idea of what goes on here. Our users are also very good at reporting inappropriate behavior themselves.\r\n                As the site grows, we will introduce more automated mechanisms for reporting and filtering of material that is not suitable for minors.<br/>\r\n            </p>\r\n\r\n            <h3 className=\"pinkheader\">Can my child make animations about anything?</h3>\r\n            <p>\r\n                Yes and no. Many other sites put a straitjacket on the child&apos;s creativity in order to prevent them from creating objectionable material. We don&apos;t believe in that approach. We think it&apos;s better to state rules for what is and what isn&apos;t acceptable, and remove users and movies that do not adhere to these rules, than artifically limiting the expressive power of the animation tool itself.\r\n                We think this is one of the reasons so many people like Animasher. We guide them, but we don&apos;t hold them back.<br/>\r\n            </p>\r\n\r\n            <h3 className=\"pinkheader\">My child has asked me to pay for something on Animasher using my phone, is this safe?</h3>\r\n            <p>\r\n            Yes. <a href=\"https://paypal.com\">PayPal</a>, our payment provider, is used by millions of people every month. If something goes wrong with your transaction, or if your child has paid for something without first asking you, just contact us at <a href=\"mailto:parents@animasher.com\">parents@animasher.com</a> and we will help you get it sorted out. Do note, however, that some phones are barred from being used for payments. If you have such a phone, the only solution we can offer presently is to use another phone. In due time, we will also allow payments via credit cards.\r\n            </p>\r\n\r\n            <h3 className=\"pinkheader\">Why can&apos;t everything on Animasher be free?</h3>\r\n            <p>\r\n                Until very recently, everything has been. However, server costs, programmers, administrators, etc. all cost money. Animasher needs to make enough money to cover those costs. We have thought long and hard about it, and decided that charging for premium features is the best solution both for ourselves and for our users. That way, those who cannot afford or don&apos;t want to pay can still use most of Animasher, and we won&apos;t have to have to show as many ads.\r\n            </p>\r\n\r\n            <h3 className=\"pinkheader\">Who is behind Animasher?</h3>\r\n            <p>\r\n                A small team of software developers from across the globe. We are now three people, all in all, and we&apos;re working pretty much around the clock.\r\n            </p>\r\n\r\n            <h3 className=\"pinkheader\">I have a question not listed here.</h3>\r\n            <p>\r\n                Just send it to <a href=\"mailto:parents@animasher.com\">parents@animasher.com</a> and we&apos;ll get back to you ASAP!\r\n            </p>\r\n\r\n            <br />\r\n            <p>Last updated: 2020-04-27</p>\r\n\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Contact() {\r\n    return (\r\n        <div>\r\n            <h1>Contact</h1>\r\n        </div>\r\n    );\r\n}\r\n","\r\nexport const host = \"http://localhost:8857/v1\";\r\n","import React, { useState } from \"react\";\r\nimport { host } from \"../../consts\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function Register() {\r\n    const history = useHistory();\r\n    const [name, setName] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [registering, setRegistering] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    const submit = async e => {\r\n        var fields = {\r\n            captcha: \"Animasher-beta\", // todo: Proper captcha implementation\r\n            name,\r\n            password,\r\n            email\r\n        };\r\n        setRegistering(true);\r\n        e.preventDefault();\r\n\r\n        var resp = await fetch(host + \"/user/register\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(fields)\r\n        });\r\n        var res = await resp.json();\r\n\r\n        if (res.error || !res.token) {\r\n            setRegistering(false);\r\n            switch (res.error) {\r\n                case \"bad_captcha\":\r\n                    return setError(\"Couldn't verify captcha\");\r\n                case \"bad_format\":\r\n                    return setError(\"Some fields are missing\");\r\n                case \"name_exist\":\r\n                    return setError(\"This name is already registered\");\r\n\r\n                default:\r\n                    return setError(\"Unknown error happened\");\r\n            }\r\n        }\r\n\r\n        localStorage.setItem(\"token\", res.token);\r\n        history.replace(\"/\");\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={submit}>\r\n                {error ? <p className=\"error\">{error}</p> : \"\"}\r\n                <input type=\"text\" placeholder=\"name\" value={name} onChange={e => setName(e.target.value)} />\r\n                <input type=\"text\" placeholder=\"email\" value={email} onChange={e => setEmail(e.target.value)} />\r\n                <input type=\"password\" placeholder=\"password\" value={password} onChange={e => setPassword(e.target.value)} />\r\n                <input type=\"submit\" value=\"Register\" disabled={registering}/>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport useImage from \"use-image\";\r\nimport { Image } from \"react-konva\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function Picture({ url, x, y, onDragStart, onDragEnd, onMouseDown, onMouseUp }) {\r\n    const [image] = useImage(url);\r\n\r\n    console.log(image, url);\r\n\r\n    if (image) {\r\n        return (\r\n            <Image\r\n                image={image}\r\n                x={x - image.width / 2}\r\n                y={y - image.height / 2}\r\n                draggable\r\n                onMouseDown={onMouseDown}\r\n                onMouseUp={onMouseUp}\r\n                onDragStart={onDragStart}\r\n                onDragEnd={onDragEnd}\r\n            />\r\n        );\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n\r\nPicture.propTypes = {\r\n    url: PropTypes.string.isRequired,\r\n    x: PropTypes.number.isRequired,\r\n    y: PropTypes.number.isRequired,\r\n    onMouseDown: PropTypes.func,\r\n    onMouseUp: PropTypes.func,\r\n    onDragStart: PropTypes.func,\r\n    onDragEnd: PropTypes.func\r\n};\r\n","import React from \"react\";\r\nimport Konva from \"konva\";\r\nimport {\r\n    Stage as KonvaStage,\r\n    Layer as KonvaLayer,\r\n    Rect as KonvaRect,\r\n    Shape as KonvaShape\r\n} from \"react-konva\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Picture from \"./media/Picture\";\r\n\r\nexport default function Stage({ currentTime, animation, addMedia }) {\r\n    const importEvents = {\r\n        onDragOver(event) {\r\n            event.preventDefault();\r\n        },\r\n\r\n        onDrop(event) {\r\n            const rect = document.querySelector(\"canvas\").getBoundingClientRect();\r\n            const media = JSON.parse(event.dataTransfer.getData(\"media\"));\r\n\r\n            addMedia({\r\n                ...media,\r\n\r\n                // Position x, y\r\n                p: [\r\n                    {\r\n                        t: 0,\r\n                        v: [event.clientX - rect.x, event.clientY - rect.y]\r\n                    }\r\n                ],\r\n\r\n                // Rotation\r\n                r: [\r\n                    {\r\n                        t: 0,\r\n                        v: 0\r\n                    }\r\n                ],\r\n\r\n                // Size\r\n                s: [\r\n                    {\r\n                        t: 0,\r\n                        v: 0\r\n                    }\r\n                ],\r\n\r\n                // Blur\r\n                b: [\r\n                    {\r\n                        t: 0,\r\n                        v: 0\r\n                    }\r\n                ],\r\n\r\n                // Opacity\r\n                o: [\r\n                    {\r\n                        t: 0,\r\n                        v: 1\r\n                    }\r\n                ],\r\n\r\n                // Filp vertical, horizontal\r\n                f: [\r\n                    {\r\n                        t: 0,\r\n                        v: [0, 0]\r\n                    }\r\n                ]\r\n            });\r\n        }\r\n    };\r\n\r\n    const editEvents = {\r\n        onMouseDown(event) {\r\n            event.target.to({\r\n                duration: 0.1,\r\n                easing: Konva.Easings.EaseOut,\r\n                shadowColor: \"red\",\r\n                shadowBlur: 3,\r\n                shadowOpacity: 0.6\r\n            });\r\n        },\r\n\r\n        onMouseUp(event) {\r\n            event.target.to({\r\n                duration: 0.1,\r\n                easing: Konva.Easings.EaseOut,\r\n                shadowBlur: 0,\r\n                shadowOpacity: 0\r\n            });\r\n        },\r\n\r\n        onDragEnd(event) {\r\n\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div id=\"stage\">\r\n            <div id=\"tab\">Animation area</div>\r\n            <div className=\"content\" onDrop={importEvents.onDrop} onDragOver={importEvents.onDragOver}>\r\n                <KonvaStage width={720} height={560} >\r\n                    {!animation.layers ? null : animation.layers.map((layer) => (\r\n                        <KonvaLayer key={layer.id}>\r\n                            <Picture\r\n                                url={layer.url}\r\n                                x={layer.p[0].v[0]}\r\n                                y={layer.p[0].v[1]}\r\n                                onMouseDown={editEvents.onMouseDown}\r\n                                onMouseUp={editEvents.onMouseUp}\r\n                                onDragEnd={editEvents.onDragEnd}\r\n                            />\r\n                        </KonvaLayer>\r\n                    ))}\r\n                    <KonvaLayer>\r\n                        {/* Off-screen grayout */}\r\n                        <KonvaShape\r\n                            x={0}\r\n                            y={0}\r\n                            fill=\"#000\"\r\n                            opacity={0.1}\r\n                            listening={false}\r\n                            sceneFunc={(ctx, shape) => {\r\n                                ctx.beginPath();\r\n                                ctx.moveTo(0, 40);\r\n                                ctx.lineTo(0, 0);\r\n                                ctx.lineTo(720, 0);\r\n                                ctx.lineTo(720, 560);\r\n                                ctx.lineTo(0, 560);\r\n                                ctx.lineTo(0, 40);\r\n                                ctx.lineTo(40, 40);\r\n                                ctx.lineTo(40, 520);\r\n                                ctx.lineTo(680, 520);\r\n                                ctx.lineTo(680, 40);\r\n                                ctx.closePath();\r\n                                ctx.fillStrokeShape(shape);\r\n                            }}\r\n                        ></KonvaShape>\r\n                        <KonvaRect\r\n                            x={40}\r\n                            y={40}\r\n                            width={640}\r\n                            height={480}\r\n                            stroke=\"#000\"\r\n                            opacity={0.1}\r\n                            listening={false}\r\n                        ></KonvaRect>\r\n                    </KonvaLayer>\r\n                </KonvaStage>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nStage.propTypes = {\r\n    currentTime: PropTypes.number.isRequired,\r\n    animation: PropTypes.object.isRequired,\r\n    addMedia: PropTypes.func.isRequired\r\n};\r\n","export default function clamp(num, min, max) {\r\n    return num <= min ? min : num >= max ? max : num;\r\n}\r\n","export default function zeroPad(num, len) {\r\n    const numAsStr = \"\" + num;\r\n\r\n    return numAsStr.length >= len ? numAsStr : numAsStr.padStart(len, \"0\");\r\n}\r\n","export function frameToFraction(current, count) {\r\n    return current / count;\r\n}\r\n\r\nexport function offsetToFraction(offset) {\r\n    return offset / (640 - 80);\r\n}\r\n\r\nexport function frameToMilliseconds(current) {\r\n    return current * (1000 / 60);\r\n}\r\n\r\nexport function millisecondsToFrame(current) {\r\n    return current / (1000 / 60);\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport clamp from \"../../utils/clamp\";\r\nimport { offsetToFraction, frameToFraction } from \"../../utils/units\";\r\n\r\nexport default class TimelineLayer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            ...props,\r\n\r\n            frame: {\r\n                ...props.frame\r\n            },\r\n\r\n            start: {\r\n                isSeeking: false,\r\n                seekInitialX: 0,\r\n                seekInitialPosition: 0,\r\n                seekPosition: frameToFraction(props.frame.start, props.frame.count) * 560\r\n            },\r\n\r\n            end: {\r\n                isSeeking: false,\r\n                seekInitialX: 0,\r\n                seekInitialPosition: 0,\r\n                seekPosition: frameToFraction(props.frame.end, props.frame.count) * 560\r\n            }\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener(\"mouseup\", this.onSeekStop.bind(this));\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener(\"mouseup\", this.onSeekStop);\r\n    }\r\n\r\n    onSeekStart(handle, event) {\r\n        const { clientX } = event;\r\n\r\n        console.log(\"onSeekStart\");\r\n\r\n        this.setState((state) => ({\r\n            ...state,\r\n\r\n            [handle]: {\r\n                ...state[handle],\r\n                isSeeking: true,\r\n                seekInitialX: clientX,\r\n                seekInitialPosition: state[handle].seekPosition\r\n            }\r\n        }));\r\n    }\r\n\r\n    onSeekStop() {\r\n        console.log(\"onSeekStop\");\r\n        this.setState((state) => ({\r\n            ...state,\r\n\r\n            start: {\r\n                ...state.start,\r\n                isSeeking: false\r\n            },\r\n\r\n            end: {\r\n                ...state.end,\r\n                isSeeking: false\r\n            }\r\n        }));\r\n    }\r\n\r\n    onMouseMove(event) {\r\n        if (this.state.start.isSeeking) {\r\n            this.updateHandle(\"start\", event.clientX);\r\n        }\r\n\r\n        if (this.state.end.isSeeking) {\r\n            this.updateHandle(\"end\", event.clientX);\r\n        }\r\n    }\r\n\r\n    updateHandle(handle, clientX) {\r\n        const { seekInitialX, seekInitialPosition } = this.state[handle];\r\n\r\n        const maxPixels = 640 - 80; // timelineWidth - seekerWidth\r\n\r\n        const min = ({\r\n            start: () => 0,\r\n            end: () => offsetToFraction(this.state.start.seekPosition) * maxPixels\r\n        })[handle]();\r\n\r\n        const max = ({\r\n            start: () => offsetToFraction(this.state.end.seekPosition) * maxPixels,\r\n            end: () => maxPixels\r\n        })[handle]();\r\n\r\n        const seekPosition = clamp((seekInitialPosition + clientX - seekInitialX), min, max);\r\n\r\n        this.setState((state) => ({\r\n            ...state,\r\n\r\n            [handle]: {\r\n                ...state[handle],\r\n                seekPosition\r\n            },\r\n\r\n            frame: {\r\n                ...state.frame,\r\n                [handle]: Math.floor(offsetToFraction(seekPosition) * state.frame.count)\r\n            }\r\n        }));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"layer\" onMouseMove={this.onMouseMove.bind(this)}>\r\n                <img src={this.state.url} alt={this.state.name} />\r\n                <div className=\"track\">\r\n                    <div className=\"span\"></div>\r\n                    <div\r\n                        className=\"handle start\"\r\n                        onMouseDown={this.onSeekStart.bind(this, \"start\")}\r\n                        style={{ transform: `translate(${this.state.start.seekPosition}px)` }}\r\n                    ></div>\r\n\r\n                    <div\r\n                        className=\"range\"\r\n                        onMouseDown={function(e) {\r\n                            this.onSeekStart.bind(this, \"start\")(e);\r\n                            this.onSeekStart.bind(this, \"end\")(e);\r\n                        }.bind(this)}\r\n                        style={{ left: this.state.start.seekPosition, right: 560 - this.state.end.seekPosition }}\r\n                    ></div>\r\n\r\n                    <div\r\n                        className=\"handle end\"\r\n                        onMouseDown={this.onSeekStart.bind(this, \"end\")}\r\n                        style={{ transform: `translate(${this.state.end.seekPosition - 560}px)` }}\r\n                    ></div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nTimelineLayer.defaultProps = {\r\n    url: null,\r\n    name: null,\r\n    frame: {\r\n        start: 0,\r\n        end: 0,\r\n        count: 0\r\n    }\r\n};\r\n\r\nTimelineLayer.propTypes = {\r\n    url: PropTypes.string.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    frame: PropTypes.object.isRequired\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport clamp from \"../../utils/clamp\";\r\nimport zeroPad from \"../../utils/zeroPad\";\r\nimport TimelineLayer from \"./TimelineLayer\";\r\nimport { offsetToFraction, frameToMilliseconds, millisecondsToFrame } from \"../../utils/units\";\r\n\r\nexport default function Timeline({ currentTime }) {\r\n    const [state, setState] = useState({\r\n        isSeeking: false,\r\n        seekStartX: 0,\r\n        seekStartPos: 0,\r\n\r\n        frame: {\r\n            current: 0,\r\n            count: 6000\r\n        },\r\n\r\n        seekerOffset: 0,\r\n\r\n        layers: [\r\n            {\r\n                name: \"dog\",\r\n                url: \"test-memes/dog.png\",\r\n                frame: {\r\n                    start: 0,\r\n                    end: 6000,\r\n                    count: 6000\r\n                }\r\n            },\r\n            {\r\n                name: \"doggo\",\r\n                url: \"test-memes/doggo.jpg\",\r\n                frame: {\r\n                    start: 500,\r\n                    end: 4000,\r\n                    count: 6000\r\n                }\r\n            }\r\n        ]\r\n    });\r\n\r\n    const frameToDisplayTime = (frame) => {\r\n        const time = frameToMilliseconds(frame.current);\r\n\r\n        const minutes = Math.floor(time / 60 / 1000);\r\n        const seconds = Math.floor((time - minutes * 60 * 1000) / 1000);\r\n        const millis = Math.floor(time - minutes * 60 * 1000 - seconds * 1000);\r\n\r\n        return `${zeroPad(minutes, 2)}:${zeroPad(seconds, 2)}:${zeroPad(millis, 3)}`;\r\n    };\r\n\r\n    const onSeekStart = (event) => {\r\n        const { clientX } = event;\r\n\r\n        setState((state) => ({\r\n            ...state,\r\n            seekStartX: clientX,\r\n            seekStartPos: state.seekerOffset,\r\n            isSeeking: true\r\n        }));\r\n    };\r\n\r\n    const onSeekStop = () => {\r\n        setState((state) => ({\r\n            ...state,\r\n            isSeeking: false\r\n        }));\r\n    };\r\n\r\n    const onMouseMove = (event) => {\r\n        const { clientX } = event;\r\n\r\n        if (state.isSeeking) {\r\n            const min = 0;\r\n            const max = 720 - 80; // timelineWidth - seekerWidth\r\n\r\n            const seekerOffset = clamp((state.seekStartPos + clientX - state.seekStartX), min, max);\r\n\r\n            setState((state) => ({\r\n                ...state,\r\n                seekerOffset,\r\n\r\n                frame: {\r\n                    ...state.frame,\r\n                    current: Math.floor(offsetToFraction(seekerOffset) * state.frame.count)\r\n                }\r\n            }));\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"mouseup\", onSeekStop.bind(this));\r\n\r\n        return function cleanup() {\r\n            document.removeEventListener(\"mouseup\", onSeekStop);\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setState((state) => {\r\n            return {\r\n                ...state,\r\n\r\n                frame: {\r\n                    ...state.frame,\r\n                    current: millisecondsToFrame(currentTime)\r\n                }\r\n            };\r\n        });\r\n    }, [currentTime]);\r\n\r\n    return (\r\n        <div id=\"timeline\" onMouseUp={onSeekStop.bind(this)}>\r\n            <div className=\"seekbar\" onMouseMove={onMouseMove.bind(this)}>\r\n                <div\r\n                    className=\"seeker\"\r\n                    onMouseDown={onSeekStart.bind(this)}\r\n                    style={{ left: state.seekerOffset }}\r\n                >{`${frameToDisplayTime(state.frame)}`}</div>\r\n                <div className=\"track\"></div>\r\n            </div>\r\n\r\n            <div className=\"layers\">\r\n                {state.layers.map((item, index) => {\r\n                    return (\r\n                        <TimelineLayer\r\n                            key={item.name}\r\n                            name={item.name}\r\n                            url={item.url}\r\n                            frame={item.frame}\r\n                        />\r\n                    );\r\n                })}\r\n            </div>\r\n\r\n            <div\r\n                className=\"position\"\r\n                style={{ left: state.seekerOffset }}\r\n            ></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nTimeline.propTypes = {\r\n    currentTime: PropTypes.number.isRequired\r\n};\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n    faStop,\r\n    faPlay,\r\n    faCircle,\r\n    faFastBackward,\r\n    faStepBackward,\r\n    faStepForward,\r\n    faFastForward,\r\n    faExternalLinkAlt,\r\n    faVolumeUp\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function TimelineControls({ isPlaying, startPlaying, stopPlaying, isRecording, startRecording, stopRecording }) {\r\n    return (\r\n        <div id=\"timeline-controls\">\r\n            <div className=\"group\">\r\n                <button\r\n                    className=\"play\"\r\n                    onClick={isPlaying ? stopPlaying : startPlaying}\r\n                >\r\n                    <FontAwesomeIcon icon={isPlaying ? faStop : faPlay} />\r\n                </button>\r\n                <button className=\"record\"><FontAwesomeIcon icon={faCircle} /></button>\r\n            </div>\r\n\r\n            <button className=\"auto-record enabled\">Auto REC <FontAwesomeIcon icon={faCircle} size=\"sm\" /> ON</button>\r\n\r\n            <div className=\"group\">\r\n                <button className=\"skip-to-start\"><FontAwesomeIcon icon={faFastBackward} /></button>\r\n                <button className=\"step-backward\"><FontAwesomeIcon icon={faStepBackward} /></button>\r\n                <button className=\"step-forward\"><FontAwesomeIcon icon={faStepForward} /></button>\r\n                <button className=\"skip-to-end\"><FontAwesomeIcon icon={faFastForward} /></button>\r\n            </div>\r\n\r\n            <button className=\"share\"><FontAwesomeIcon icon={faExternalLinkAlt} /></button>\r\n            <button className=\"save\">Save</button>\r\n\r\n            <span className=\"volume\">\r\n                <FontAwesomeIcon icon={faVolumeUp} />\r\n                <input type=\"range\" min=\"1\" max=\"100\" onChange={ (event) => console.log(event.target.value) } />\r\n            </span>\r\n        </div>\r\n    );\r\n}\r\n\r\nTimelineControls.propTypes = {\r\n    isPlaying: PropTypes.bool.isRequired,\r\n    startPlaying: PropTypes.func.isRequired,\r\n    stopPlaying: PropTypes.func.isRequired,\r\n    isRecording: PropTypes.bool.isRequired,\r\n    startRecording: PropTypes.func.isRequired,\r\n    stopRecording: PropTypes.func.isRequired\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { nanoid } from \"nanoid\";\r\n\r\nimport Stage from \"./Stage\";\r\nimport Timeline from \"./Timeline\";\r\nimport TimelineControls from \"./TimelineControls\";\r\n\r\nexport default function Editor(props) {\r\n    const [currentTime, setCurrentTime] = useState(0);\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const [isRecording, setIsRecording] = useState(true);\r\n\r\n    const [animation, setAnimation] = useState({\r\n        id: null,\r\n        name: \"\",\r\n        description: \"\",\r\n        author: null,\r\n\r\n        layers: []\r\n    });\r\n\r\n    // const seek = (time) => setCurrentTime(() => time);\r\n    const startPlaying = () => setIsPlaying(() => true);\r\n    const stopPlaying = () => setIsPlaying(() => false);\r\n    const startRecording = () => setIsRecording(() => true);\r\n    const stopRecording = () => setIsRecording(() => false);\r\n\r\n    useEffect(() => {\r\n        let isDestroyed = false;\r\n        let time = +new Date();\r\n\r\n        (function step() {\r\n            const now = +new Date();\r\n            const delta = now - time;\r\n\r\n            if (isPlaying) {\r\n                setCurrentTime((prevTime) => {\r\n                    return prevTime + delta;\r\n                });\r\n            }\r\n\r\n            time = now;\r\n\r\n            if (!isDestroyed) window.requestAnimationFrame(step);\r\n        })();\r\n\r\n        return function cleanup() {\r\n            isDestroyed = true;\r\n        };\r\n    }, [isPlaying]);\r\n\r\n    const addMedia = (media) => {\r\n        const { id, name, url, type, p, r, s, b, o, f } = media;\r\n\r\n        console.log(media);\r\n        setAnimation((state) => ({\r\n            ...state,\r\n            layers: [\r\n                ...state.layers,\r\n                {\r\n                    id: nanoid(),\r\n                    mediaId: id,\r\n                    type,\r\n                    name,\r\n                    url,\r\n                    p,\r\n                    r,\r\n                    s,\r\n                    b,\r\n                    o,\r\n                    f\r\n                }\r\n            ]\r\n        }));\r\n    };\r\n\r\n    return (\r\n        <div id=\"editor\">\r\n            <Stage currentTime={currentTime} animation={animation} addMedia={addMedia}/>\r\n            <TimelineControls\r\n                isPlaying={isPlaying}\r\n                startPlaying={startPlaying}\r\n                stopPlaying={stopPlaying}\r\n\r\n                isRecording={isRecording}\r\n                startRecording={startRecording}\r\n                stopRecording={stopRecording}\r\n            />\r\n            <Timeline currentTime={currentTime} animation={animation} />\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { nanoid } from \"nanoid\";\r\n\r\nexport default function Library(props) {\r\n    const [activeTab, setActiveTab] = useState(\"picture\");\r\n\r\n    const [mediaList] = useState([\r\n        { id: nanoid(), type: \"picture\", name: \"dog\", url: \"test-memes/dog.png\" },\r\n        { id: nanoid(), type: \"picture\", name: \"doggo\", url: \"test-memes/doggo.jpg\" },\r\n        { id: nanoid(), type: \"picture\", name: \"fish\", url: \"test-memes/fish.png\" },\r\n        { id: nanoid(), type: \"picture\", name: \"grumpy-no\", url: \"test-memes/grumpy-no.jpg\" },\r\n        { id: nanoid(), type: \"picture\", name: \"kitten\", url: \"test-memes/kitten.jpg\" },\r\n        { id: nanoid(), type: \"picture\", name: \"pipe-dream\", url: \"test-memes/pipe-dream.jpg\" }\r\n    ]);\r\n\r\n    const onDragStart = (event) => {\r\n        const id = event.target.dataset.id;\r\n        const media = mediaList.find((item) => item.id === id);\r\n\r\n        console.log(\"dragStart\", media);\r\n        event.dataTransfer.setData(\"media\", JSON.stringify(media));\r\n    };\r\n\r\n    const tabs = [\r\n        {\r\n            mediaType: \"picture\",\r\n            title: \"OBJECTS\",\r\n            category: \"static\"\r\n        },\r\n        {\r\n            mediaType: \"background\",\r\n            title: \"BACKGROUND\",\r\n            category: \"static\"\r\n        },\r\n        {\r\n            mediaType: \"text\",\r\n            title: \"TEXT\",\r\n            category: \"static\"\r\n        },\r\n        {\r\n            mediaType: \"music\",\r\n            title: \"MUSIC\",\r\n            category: \"playable\"\r\n        },\r\n        {\r\n            mediaType: \"effects\",\r\n            title: \"EFFECTS\",\r\n            category: \"playable\"\r\n        },\r\n        {\r\n            mediaType: \"mic\",\r\n            title: \"MIC\",\r\n            category: \"playable\"\r\n        },\r\n        {\r\n            mediaType: \"video\",\r\n            title: \"VIDEO\",\r\n            category: \"playable\"\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <div id=\"library\">\r\n            <div className=\"tab active\">Library</div>\r\n            <div className=\"content\">\r\n                {mediaList.filter((item) => item.type === activeTab).map((item, index) => {\r\n                    return <img key={item.name} src={item.url} alt={item.name} data-id={item.id} draggable=\"true\" onDragStart={onDragStart} />;\r\n                })}\r\n            </div>\r\n            <div className=\"tabs\">\r\n                {tabs.map((tab) => (\r\n                    <div\r\n                        key={tab.mediaType}\r\n                        className={`tab ${tab.category} ${activeTab === tab.mediaType ? \"active\" : \"\"}`}\r\n                        onClick={() => setActiveTab(tab.mediaType)}\r\n                    >{tab.title}</div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport Editor from \"../editor/Editor\";\r\nimport Library from \"../editor/Library\";\r\n\r\nexport default class Home extends Component {\r\n    render() {\r\n        return (\r\n            <div id=\"create\">\r\n                <Editor />\r\n                <Library />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { useState, createRef } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { host } from \"../../../consts\";\r\n\r\nexport default function Login(props) {\r\n    const [disabled, setDisabled] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const usernameField = createRef();\r\n    const passwordField = createRef();\r\n\r\n    const loginInput = () => {\r\n        if (usernameField.current.value.length > 0 && passwordField.current.value.length > 0) setDisabled(false);\r\n        else setDisabled(true);\r\n    };\r\n\r\n    const login = async e => {\r\n        e.preventDefault();\r\n\r\n        var fields = {\r\n            name: usernameField.current.value,\r\n            password: passwordField.current.value\r\n        };\r\n        setLoading(true);\r\n\r\n        var resp = await fetch(host + \"/user/login\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(fields)\r\n        });\r\n        var res = await resp.json();\r\n\r\n        if (res.error || !res.token) {\r\n            setLoading(false);\r\n            switch (res.error) {\r\n                case \"login_error\":\r\n                    return console.error(\"Name or password is incorrect\");\r\n\r\n                default:\r\n                    return console.error(\"Unknown error\");\r\n            }\r\n        }\r\n\r\n        localStorage.setItem(\"token\", res.token);\r\n        props.updateUser(res.user);\r\n    };\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <Link to=\"/signup\">signup</Link><span>/</span>\r\n            <form\r\n                action=\"\"\r\n                id=\"login\"\r\n                method=\"GET\"\r\n                onSubmit={login}\r\n            >\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"username\"\r\n                    id=\"username\"\r\n                    placeholder=\"login\"\r\n                    onInput={loginInput}\r\n                    ref={usernameField}\r\n                />\r\n                <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    id=\"password\"\r\n                    placeholder=\"\"\r\n                    onInput={loginInput}\r\n                    ref={passwordField}\r\n                />\r\n                <input\r\n                    type=\"submit\"\r\n                    value=\"ok\"\r\n                    disabled={(disabled || loading)}\r\n                />\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Loged({ user }) {\r\n    return (\r\n        <div className=\"loged\">\r\n            Welcome <Link to={\"/member/\" + user.name}><b>{user.name}</b></Link>\r\n        </div>\r\n    );\r\n}\r\n","import React, { Component, createRef } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Logo from \"../../assets/img/logo-blur.png\";\r\nimport Login from \"./Header/login\";\r\nimport Loged from \"./Header/loged\";\r\n\r\nexport default class Header extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            searchDisabled: true\r\n        };\r\n\r\n        this.searchField = createRef();\r\n\r\n        this.searchInput = e => {\r\n            e.target.value ? this.setState({ searchDisabled: false }) : this.setState({ searchDisabled: true });\r\n        };\r\n\r\n        this.search = e => {\r\n            e.preventDefault();\r\n            this.searchField.current.value = \"Search Successful\";\r\n        };\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <header>\r\n                <Link to=\"/\">\r\n                    <img src={Logo} alt=\"Logo\" className=\"logo\" />\r\n                </Link>\r\n                <ul className=\"menu\">\r\n                    <li><Link to=\"/watch\">Watch</Link></li>\r\n                    <li><Link to=\"/create\">Create</Link></li>\r\n                    <li><Link to=\"/leaders\">Leaders</Link></li>\r\n                    <li><Link to=\"/learn\">Learn</Link></li>\r\n                </ul>\r\n                <ul className=\"lang\">\r\n                    <li><Link to=\"/sv\">SV</Link></li>\r\n                    <li><Link to=\"/de\">DE</Link></li>\r\n                    <li><Link to=\"/it\">ITA</Link></li>\r\n                    <li><Link to=\"/es\">ESP</Link></li>\r\n                    <li><Link to=\"/ja\"></Link></li>\r\n                    <li><Link to=\"/pt\">POR</Link></li>\r\n                    <li><Link to=\"/en\">ENG</Link></li>\r\n                </ul>\r\n                <form\r\n                    action=\"\"\r\n                    id=\"search\"\r\n                    method=\"GET\"\r\n                    onSubmit={this.search}\r\n                >\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"search\"\r\n                        id=\"searchTerm\"\r\n                        placeholder=\"Search animations..\"\r\n                        onInput={this.searchInput}\r\n                        ref={this.searchField}\r\n                    />\r\n                    <input\r\n                        type=\"submit\"\r\n                        id=\"searchSubmit\"\r\n                        value=\"search\"\r\n                        disabled={this.state.searchDisabled}\r\n                    />\r\n                </form>\r\n                {!this.props.user ? <Login updateUser={this.props.updateUser} /> : <Loged user={this.props.user}/>}\r\n            </header>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class Footer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.showCookies = () => {\r\n            // Show a pop-up or sometihng.. alert() is how it was on the original site though\r\n            alert(\"Animasher uses cookies to track who is who. If you don't want a cookie, you can disable them in your browser, but then you will not be able to log in to the site.\");\r\n        };\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <footer>\r\n                <ul>\r\n                    <li><Link to=\"/\">Animations</Link></li>{\" - \"}\r\n                    <li><Link to=\"/feedback\">Feedback</Link></li>{\" - \"}\r\n                    <li><Link to=\"/tos\">Terms of Service</Link></li>{\" - \"}\r\n                    <li><Link to=\"/license\">License</Link></li>{\" - \"}\r\n                    <li><Link to=\"\" onClick={this.showCookies}>Cookies</Link></li>{\" - \"}\r\n                    <li><Link to=\"/about\">About</Link></li>{\" - \"}\r\n                    <li><Link to=\"/sitemap.xml\">XML</Link></li>{\" - \"}\r\n                    <li><Link to=\"/rules\">Rules</Link></li>{\" - \"}\r\n                    <li><Link to=\"/parents\">For parents</Link></li>{\" - \"}\r\n                    <li><Link to=\"/contact\">Contact</Link></li>\r\n                </ul>\r\n            </footer>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Card from \"../Card\";\r\nimport { host } from \"../../consts\";\r\n\r\nexport default class Profile extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            member: null,\r\n            animations: null\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        var res = await fetch(host + \"/user/\" + this.props.match.params.name);\r\n        var user = await res.json();\r\n        if (user.error) return console.error(user.error);\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            member: user\r\n        });\r\n\r\n        res = await fetch(host + \"/user/\" + this.props.match.params.name + \"/animations\");\r\n        var anims = await res.json();\r\n        if (anims.error) return console.error(anims.error);\r\n        this.setState({\r\n            ...this.state,\r\n            animations: anims\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { name } = this.props.match.params;\r\n        if (this.props.user && !this.state.member && name === this.props.user.name) {\r\n            this.state = Object.assign(this.state, {\r\n                member: this.props.user\r\n            });\r\n        }\r\n\r\n        if (this.state.member === null) {\r\n            return (\r\n                <div className=\"container\">Loading user...</div>\r\n            );\r\n        }\r\n        const { member } = this.state;\r\n\r\n        const canMessage = member.type >= 0 && member.id !== (this.props.user ? this.props.user.id : null);\r\n        const isFollowing = canMessage ? true : null;\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"grid\">\r\n\r\n                    <Card\r\n                        title={member.name + \" Has Created\"}\r\n                        className=\"animations\"\r\n                        content={\r\n                            <>\r\n                                No animations created yet\r\n                            </>\r\n                        }\r\n                    />\r\n                    <div className=\"profile\">\r\n                        <div className=\"title\">\r\n                            Profile\r\n                        </div>\r\n                        <div className=\"box\">\r\n                            <b>Hi, I&apos;m {member.name}</b>\r\n                            {member.description}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {canMessage\r\n                        ? <Card\r\n                            title=\"Messages\"\r\n                            className=\"animations\"\r\n                            content={\r\n                                <>\r\n                                    <b>Send a message to {member.name}</b>\r\n                                    <textarea></textarea>\r\n                                    <button>Post message</button>\r\n                                </>\r\n                            }\r\n                        /> : \"\"}\r\n                    {isFollowing === null ? \"\"\r\n                        : <div className={\"follow \" + isFollowing ? \"active\" : \"notactive\"}>\r\n                            {isFollowing ? \"STOP FOLLOWING THIS MEMBER\" : \"FOLLOW\"}\r\n                        </div>}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Card from \"../Card\";\r\n\r\nexport default function Watch() {\r\n    const { id } = useParams();\r\n\r\n    return (\r\n        <div>\r\n            <Card title=\"You are watching\">\r\n                <div className=\"title\">Title of {id}</div>\r\n                <div className=\"Video\">Video</div>\r\n\r\n                <div className=\"tabs\">\r\n                    <div className=\"active\">Information</div>\r\n                    <div>Share</div>\r\n                    <div>Mark</div>\r\n                    <div>Remix</div>\r\n                    <div>Credits</div>\r\n                </div>\r\n                <div className=\"content\">\r\n                    Description and more info here...\r\n                </div>\r\n            </Card>\r\n            <Card title=\"Author\">\r\n                Unknown user\r\n            </Card>\r\n            <Card title=\"Watch next\">\r\n                ...List of videos\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n","// MODULES\r\nimport React, { Component } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\n// PAGES\r\nimport Page404 from \"./components/pages/Page404\";\r\nimport Home from \"./components/pages/Home\";\r\nimport Feedback from \"./components/pages/Feedback\";\r\nimport Terms from \"./components/pages/Terms\";\r\nimport License from \"./components/pages/License\";\r\nimport About from \"./components/pages/About\";\r\nimport Rules from \"./components/pages/Rules\";\r\nimport Parents from \"./components/pages/Parents\";\r\nimport Contact from \"./components/pages/Contact\";\r\nimport Register from \"./components/pages/Register\";\r\nimport Create from \"./components/pages/Create\";\r\n\r\n// LAYOUT\r\nimport Header from \"./components/layout/Header\";\r\nimport Footer from \"./components/layout/Footer\";\r\n\r\n// SASS\r\nimport \"./index.scss\";\r\nimport Profile from \"./components/pages/Profile\";\r\nimport Watch from \"./components/pages/Watch\";\r\nimport { host } from \"./consts\";\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: null\r\n        };\r\n\r\n        this.updateUser = async (user, token) => {\r\n            if (!user) {\r\n                token = localStorage.getItem(\"token\");\r\n                if (!token) {\r\n                    this.setState({\r\n                        user: false\r\n                    });\r\n                    return;\r\n                }\r\n                var res = await fetch(host + \"/user\", {\r\n                    headers: {\r\n                        Authorization: \"token \" + token\r\n                    }\r\n                });\r\n                user = await res.json();\r\n                if (user.error) {\r\n                    localStorage.removeItem(\"token\");\r\n                    this.setState({\r\n                        user: false\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n\r\n            user.makeRequest = async (url, settings) => {\r\n                var res = await fetch(url, {\r\n                    ...settings,\r\n                    headers: {\r\n                        ...settings.headers,\r\n                        \"Content-type\": \"application/json\",\r\n                        Authorization: token\r\n                    }\r\n                });\r\n                return await res.json();\r\n            };\r\n\r\n            this.setState({\r\n                user\r\n            });\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.updateUser();\r\n    }\r\n\r\n    render() {\r\n        if (this.state.user === null) {\r\n            return (\r\n                <p>Loading</p>\r\n            );\r\n        }\r\n        console.log(this.state.user);\r\n        return (\r\n            <Router>\r\n                <Header user={this.state.user} updateUser={this.updateUser}/>\r\n                <main>\r\n                    <Switch>\r\n                        <Route exact path=\"/\" render={route => (\r\n                            <Home {...route} user={this.state.user} />\r\n                        )}/>\r\n                        <Route exact path=\"/feedback\" component={Feedback}/>\r\n                        <Route exact path=\"/tos\" component={Terms}/>\r\n                        <Route exact path=\"/license\" component={License}/>\r\n                        <Route exact path=\"/about\" component={About}/>\r\n                        <Route exact path=\"/rules\" component={Rules}/>\r\n                        <Route exact path=\"/parents\" component={Parents}/>\r\n                        <Route exact path=\"/contact\" component={Contact}/>\r\n                        { this.state.user ? \"\"\r\n                            : <Route exact path=\"/signup\" component={Register}/> }\r\n\r\n                        <Route path=\"/member/:name\" render={route => (\r\n                            <Profile {...route} user={this.state.user} />\r\n                        )}/>\r\n                        <Route path=\"/watch/:id\" component={Watch}/>\r\n\r\n                        <Route exact path=\"/create\" component={Create}/>\r\n\r\n                        <Route component={Page404} />\r\n                    </Switch>\r\n                </main>\r\n                <Footer />\r\n            </Router>\r\n        );\r\n    }\r\n}\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Page404\":\"Page404_Page404__3-KcA\"};","module.exports = __webpack_public_path__ + \"static/media/fpvid.c8fbf61d.mp4\";","module.exports = __webpack_public_path__ + \"static/media/logo-blur.cfa8d3f6.png\";"],"sourceRoot":""}